<div class="online-orders-container">
    <p-toolbar>
      <div class="p-toolbar-group-left">
        <p-button label="Back to POS" icon="pi pi-arrow-left" styleClass="mr-2" routerLink="/pos"></p-button>
        <span class="section-title">Online Orders</span>
      </div>
      <div class="p-toolbar-group-right">
        <p-button label="Refresh" icon="pi pi-refresh"></p-button>
      </div>
    </p-toolbar>
  
    <div class="orders-content">
      <p-tabView>
        <p-tabPanel header="Pending Payments">
          <p-table [value]="pendingPaymentOrders" styleClass="p-datatable-sm" [paginator]="true" [rows]="10">
            <ng-template pTemplate="header">
              <tr>
                <th>Order #</th>
                <th>Customer</th>
                <th>Total</th>
                <th>Payment Method</th>
                <th>Status</th>
                <th>Date</th>
                <th>Actions</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-order>
              <tr>
                <td>{{order.id}}</td>
                <td>{{order.customer_name}}</td>
                <td>Rs. {{order.total_amount.toFixed(2)}}</td>
                <td>{{order.payment_method}}</td>
                <td>
                  <p-tag [value]="order.status" [severity]="getStatusSeverity(order.status)"></p-tag>
                </td>
                <td>{{order.created_at | date:'short'}}</td>
                <td>
                  <button pButton icon="pi pi-eye" class="p-button-rounded p-button-info p-button-sm p-mr-2"
                         pTooltip="View Details"></button>
                  <button pButton icon="pi pi-dollar" class="p-button-rounded p-button-success p-button-sm"
                         pTooltip="Process Payment"></button>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </p-tabPanel>
        
        <p-tabPanel header="All Online Orders">
          <p-table [value]="allOnlineOrders" styleClass="p-datatable-sm" [paginator]="true" [rows]="10">
            <ng-template pTemplate="header">
              <tr>
                <th>Order #</th>
                <th>Customer</th>
                <th>Total</th>
                <th>Payment Status</th>
                <th>Order Status</th>
                <th>Date</th>
                <th>Actions</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-order>
              <tr>
                <td>{{order.id}}</td>
                <td>{{order.customer_name}}</td>
                <td>Rs. {{order.total_amount.toFixed(2)}}</td>
                <td>
                  <p-tag [value]="order.payment_status" [severity]="getPaymentStatusSeverity(order.payment_status)"></p-tag>
                </td>
                <td>
                  <p-tag [value]="order.status" [severity]="getStatusSeverity(order.status)"></p-tag>
                </td>
                <td>{{order.created_at | date:'short'}}</td>
                <td>
                  <button pButton icon="pi pi-eye" class="p-button-rounded p-button-info p-button-sm"
                         pTooltip="View Details"></button>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </p-tabPanel>
      </p-tabView>
    </div>
  </div>